(this.webpackJsonpapz=this.webpackJsonpapz||[]).push([[0],{14:function(e,a,t){},15:function(e,a,t){"use strict";t.r(a);var n=t(0),u=t.n(n),r=t(8),l=t.n(r),i=(t(14),t(2)),c=t(3),s=t(1),o=t(5),m=t(4),h=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).state={file:null},n.handleFileChange=n.handleFileChange.bind(Object(s.a)(n)),n}return Object(c.a)(t,[{key:"handleChooseFile",value:function(){document.getElementById("file-input").click()}},{key:"handleFileClick",value:function(e){e.stopPropagation()}},{key:"handleFileChange",value:function(e){this.props.onFileChange(e.target.files[0])}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{id:"dropzone",onClick:this.handleChooseFile,onDrop:function(a){return e.props.onFileChange(a.dataTransfer.files[0])}},u.a.createElement("span",{className:"b-span dd"},"\u0421\u042e\u0414\u0410 \u041f\u0415\u0420\u0415\u0422\u0410\u0429\u0418"),u.a.createElement("span",{className:"s-span"},"\u0438\u043b\u0438 \u0436\u043c\u044f\u043a\u043d\u0438"),u.a.createElement("input",{type:"file",id:"file-input",onClick:this.handleFileClick,onChange:this.handleFileChange}))}}]),t}(u.a.Component),d=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).state={gradation:0},n.handleChangeGradation=n.handleChangeGradation.bind(Object(s.a)(n)),n.handleChangeGradationByRange=n.handleChangeGradationByRange.bind(Object(s.a)(n)),n}return Object(c.a)(t,[{key:"handleChangeGradation",value:function(e){var a=e.target.value;this.setState({gradation:a}),this.props.onChangeGradation(a)}},{key:"handleChangeGradationByRange",value:function(e){document.querySelectorAll("input[type=radio]").forEach((function(e){return e.checked=!1})),this.handleChangeGradation(e)}},{key:"render",value:function(){return u.a.createElement("div",{className:"panel"},u.a.createElement("div",{className:"polzunok"},u.a.createElement("input",{name:"gradation",type:"range",max:"100",min:"0",value:this.state.gradation,onChange:this.handleChangeGradationByRange})),u.a.createElement("div",{className:"box-gradation"},u.a.createElement("div",{className:"bg-td"},u.a.createElement("label",null,u.a.createElement("input",{type:"radio",name:"gradation",value:"0",onChange:this.handleChangeGradation}),"I")),u.a.createElement("div",{className:"bg-td"},u.a.createElement("label",null,u.a.createElement("input",{type:"radio",name:"gradation",value:"20",onChange:this.handleChangeGradation}),"II")),u.a.createElement("div",{className:"bg-td"},u.a.createElement("label",null,u.a.createElement("input",{type:"radio",name:"gradation",value:"40",onChange:this.handleChangeGradation}),"III")),u.a.createElement("div",{className:"bg-td"},u.a.createElement("label",null,u.a.createElement("input",{type:"radio",name:"gradation",value:"60",onChange:this.handleChangeGradation}),"IV")),u.a.createElement("div",{className:"bg-td"},u.a.createElement("label",null,u.a.createElement("input",{type:"radio",name:"gradation",value:"80",onChange:this.handleChangeGradation}),"V"))))}}]),t}(u.a.Component);var F=function(){return u.a.createElement("div",{className:"table-cap row"},u.a.createElement("div",{className:"td number"},"\u2116"),u.a.createElement("div",{className:"td name"}," \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440"),u.a.createElement("div",{className:"td nominal"},"\u041d\u043e\u043c\u0438\u043d\u0430\u043b"),u.a.createElement("div",{className:"td rangePlus"},"\u0414\u043e\u043f\u0443\u0441\u043a +"),u.a.createElement("div",{className:"td rangeMinus"},"\u0414\u043e\u043f\u0443\u0441\u043a -"),u.a.createElement("div",{className:"td measure"},"\u0418\u0437\u043c\u0435\u0440\u0435\u043d\u043d\u043e\u0435"),u.a.createElement("div",{className:"td deviance"},"\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u0435"),u.a.createElement("div",{className:"td status"},"\u0413\u043e\u0434\u043d\u043e\u0441\u0442\u044c"))};var g=function(e){var a=e.row,t=a.number,n=a.name,r=a.nominal,l=a.rangePlus,i=a.rangeMinus,c=a.measure,s=a.deviance,o=a.status,m=a.percent,h=a.visible;return u.a.createElement("div",{className:"row",style:{backgroundColor:function(e,a,t){e=+e;var n=/\u0413\u041e\u0414\u0415\u041d/gi.test(t)?"140":"0";return e&&(n=140-120*a/100),"hsla(".concat(n,", 100% , 40%, .4)")}(s,m,o),display:h?"grid":"none"}},u.a.createElement("div",{className:"td number",title:"\u041d\u043e\u043c\u0435\u0440 : ".concat(t)},t),u.a.createElement("div",{className:"td name",title:"\u0418\u043c\u044f : ".concat(n)},n),u.a.createElement("div",{className:"td nominal",title:"\u041d\u043e\u043c\u0438\u043d\u0430\u043b : ".concat(r)},r),u.a.createElement("div",{className:"td rangePlus",title:"\u0414\u043e\u043f\u0443\u0441\u043a \u0432 \u043f\u043b\u044e\u0441 : ".concat(l)},l),u.a.createElement("div",{className:"td rangeMinus",title:"\u0414\u043e\u043f\u0443\u0441\u043a \u0432 \u043c\u0438\u043d\u0443\u0441 : ".concat(i)},i),u.a.createElement("div",{className:"td measure",title:"\u0418\u0437\u043c\u0435\u0440\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 : ".concat(c)},c),u.a.createElement("div",{className:"td deviance",title:"\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u0435 : ".concat(s)},s),u.a.createElement("div",{className:"td status",title:"\u0413\u043e\u0434\u043d\u043e\u0441\u0442\u044c : ".concat(o)},o))};var b=function(e){var a=0;return u.a.createElement("div",{className:"table-data"},e.rows.map((function(e){return u.a.createElement(g,{key:"".concat(++a,"_").concat(e.number),row:e})})))},v=t(6),C=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).state={rangeFrom:"",rangeTo:"",number:""},n.handleChangeNumber=n.handleChangeNumber.bind(Object(s.a)(n)),n.handleChangeRange=n.handleChangeRange.bind(Object(s.a)(n)),n}return Object(c.a)(t,[{key:"handleChangeNumber",value:function(e){this.setState({rangeFrom:"",rangeTo:""});var a=e.target.value;this.setState({number:a}),this.props.onChangeNumber(+a)}},{key:"handleChangeRange",value:function(e){var a;this.setState({number:""});var t=e.target,n=t.name,u=t.value;this.setState(Object(v.a)({},n,u));var r=this.getOppositeRangeName(n);this.props.onChangeRange((a={},Object(v.a)(a,n,u),Object(v.a)(a,r,this.state[r]),a))}},{key:"getOppositeRangeName",value:function(e){return"rangeFrom"===e?"rangeTo":"rangeFrom"}},{key:"render",value:function(){return u.a.createElement("div",{className:"footer"},u.a.createElement("div",{className:"cap"},"\u041f\u043e\u0438\u0441\u043a"),u.a.createElement("label",null,"\u041d\u0430\u0439\u0442\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440:",u.a.createElement("input",{type:"number",value:this.state.number,onChange:this.handleChangeNumber})),u.a.createElement("span",null,u.a.createElement("label",null,"\u041d\u0430\u0439\u0442\u0438 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432:",u.a.createElement("input",{type:"number",value:this.state.rangeFrom,name:"rangeFrom",onChange:this.handleChangeRange})),"-",u.a.createElement("input",{type:"number",value:this.state.rangeTo,name:"rangeTo",onChange:this.handleChangeRange})))}}]),t}(u.a.Component),p=function(){function e(a){var t=this;Object(i.a)(this,e),this.splitObjectsParams=[],this.prepare(a).forEach((function(e){return t.splitObjectsParams.push(t.createObjectParameter(e))}))}return Object(c.a)(e,[{key:"prepare",value:function(e){return e.split("\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440").filter((function(e,a){return 0!==a})).map((function(e){return e.split("\n").filter((function(e){return 0!==e})).filter((function(e){return e.match(/\u2116/)||e.match(/-?\d\d?.\d\d\d/)})).join(" ")}))}},{key:"createObjectParameter",value:function(e){var a={},t=e.match(/( (\x2D?[0-9]*[0-9](?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])[0-9][0-9][0-9])[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+(\x2D?[0-9]*[0-9](?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])[0-9][0-9][0-9])[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+(\x2D?[0-9]*[0-9](?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])[0-9][0-9][0-9])[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+(\x2D?[0-9]*[0-9](?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])[0-9][0-9][0-9])[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+(\x2D?[0-9]*[0-9](?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])[0-9][0-9][0-9])[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+([0-9A-Z_a-z\u017F\u212A]+|[\*\/\u0430-\u044F\u1C80-\u1C86]+)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+((\u041D\u0415(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+\u0413[\u041E\u1C82][\u0414\u1C81]\u0415\u041D)||(\u0413[\u041E\u1C82][\u0414\u1C81]\u0415\u041D))*)|(\u041D*\u0415*[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+\u0413[\u041E\u1C82][\u0414\u1C81]\u0415\u041D)/i);return a.number=Number(e.match(/\u2116(\s+)*\d+/g)[0].match(/\d+/g)[0]),a.name=e.match(/( ')\s*.+\s*(' )/)[0].match(/[^']/g).join("").trim(),a.nominal=t[2]||"",a.rangePlus=Number(t[3])||"",a.rangeMinus=Number(t[4])||"",a.measure=Number(t[5])||"",a.deviance=t[6]||"",a.pointMeasurment=t[7]||"",a.status=t[8]||t[11]||"\u0441\u043c.\u043d\u0438\u0436\u0435",a.percent=this.getPercent(a.deviance,a.rangePlus,a.rangeMinus,a.status),a.visible=!0,a}},{key:"getPercent",value:function(e,a,t,n){return e?(e=+e,t=+t,a=+a,Math.floor(e>=0?e/a*100:e/t*100)):/\u043d\u0435/gi.test(n)?100:0}},{key:"validate",value:function(){console.group("\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442\u0441\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043c\u0430\u0441\u0441\u0438\u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432"),console.log(this.splitObjectsParams);var e=[],a={number:"number",name:"string",nominal:"string",rangePlus:"number",rangeMinus:"number",measure:"number"};this.splitObjectsParams.forEach((function(t){for(var n in a)if(typeof t[n]!==a[n]){e.push("#".concat(t.number," ").concat(n," ").concat(t[n]));break}}));var t=0===e.length;return console.log(t?"Well done!! Protocol split of parametrs is good!":"bad and sad (error: ".concat(JSON.stringify(e),")")),t}},{key:"rows",get:function(){return this.splitObjectsParams}}]),e}(),D=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).state={rows:[]},n.handleChangeGradation=n.handleChangeGradation.bind(Object(s.a)(n)),n.handleChangeNumber=n.handleChangeNumber.bind(Object(s.a)(n)),n.handleChangeRange=n.handleChangeRange.bind(Object(s.a)(n)),n}return Object(c.a)(t,[{key:"handleChangeGradation",value:function(e){var a=this.state.rows.map((function(a){return a.visible=a.percent>=e,a}));this.setState({rows:a})}},{key:"handleChangeNumber",value:function(e){var a=0===e,t=this.state.rows.map((function(t){return t.visible=a||t.number===e,t}));this.setState({rows:t})}},{key:"handleChangeRange",value:function(e){var a=+e.rangeFrom,t=+e.rangeTo;var n=this.state.rows.map((function(e){var n;return e.visible=e.number>=a&&(n=e.number,!(t>a)||n<=t),e}));this.setState({rows:n})}},{key:"componentDidMount",value:function(){var e=this,a=new FileReader;a.readAsText(this.props.file,"windows-1251"),a.onload=function(){var t=new p(a.result);e.setState({rows:t.rows})}}},{key:"render",value:function(){return u.a.createElement("div",{className:"table"},u.a.createElement(d,{onChangeGradation:this.handleChangeGradation}),u.a.createElement(F,null),u.a.createElement(b,{rows:this.state.rows}),u.a.createElement(C,{onChangeNumber:this.handleChangeNumber,onChangeRange:this.handleChangeRange}))}}]),t}(u.a.Component),E=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).state={file:null},n.handleFileChange=n.handleFileChange.bind(Object(s.a)(n)),n}return Object(c.a)(t,[{key:"handleFileChange",value:function(e){this.setState({file:e})}},{key:"render",value:function(){return u.a.createElement("div",{className:"page"},this.state.file?u.a.createElement(D,{file:this.state.file}):u.a.createElement(h,{onFileChange:this.handleFileChange}))}}]),t}(u.a.Component);l.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(E,null)),document.getElementById("root"))},9:function(e,a,t){e.exports=t(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.aba9f8b0.chunk.js.map