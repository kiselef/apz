{"version":3,"sources":["components/Dropzone.js","components/Panel/Header.js","components/Panel/TableHeader.js","components/Panel/TableRow.js","components/Panel/TableBody.js","components/Panel/Footer.js","services/ProtocolReader.js","components/Panel/Wrapper.js","App.js","index.js"],"names":["Dropzone","props","state","file","handleFileChange","bind","document","getElementById","click","event","stopPropagation","this","onFileChange","target","files","id","onClick","handleChooseFile","onDrop","dataTransfer","className","type","handleFileClick","onChange","React","Component","Header","gradation","handleChangeGradation","handleChangeGradationByRange","value","setState","onChangeGradation","querySelectorAll","forEach","item","checked","name","max","min","TableHeader","TableRow","row","number","nominal","rangePlus","rangeMinus","measure","deviance","status","percent","visible","style","backgroundColor","dev","hue","test","detectedColor","display","title","TableBody","key","rows","map","Footer","rangeFrom","rangeTo","handleChangeNumber","handleChangeRange","onChangeNumber","oppositeName","getOppositeRangeName","onChangeRange","ProtocolReader","text","splitObjectsParams","prepare","push","createObjectParameter","split","filter","index","match","join","arrayItem","objectParametr","stringWithNumberPlusStatus","Number","trim","pointMeasurment","getPercent","plus","minus","Math","floor","console","group","log","error","validationScheme","fieldName","isSuccess","length","JSON","stringify","Wrapper","minPercent","newRows","showAll","range","fReader","FileReader","readAsText","onload","pReader","result","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.aba9f8b0.chunk.js","sourcesContent":["import React from 'react';\n\nclass Dropzone extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      file: null,\n    };\n\n    this.handleFileChange = this.handleFileChange.bind(this);\n  }\n\n  handleChooseFile () {\n    document.getElementById('file-input').click();\n  }\n\n  handleFileClick (event) {\n    event.stopPropagation();\n  }\n\n  handleFileChange (event) {\n    this.props.onFileChange(event.target.files[0])\n  }\n\n  render() {\n    return (\n      <div id=\"dropzone\" onClick={this.handleChooseFile} onDrop={event => this.props.onFileChange(event.dataTransfer.files[0])}>\n        <span className=\"b-span dd\">СЮДА ПЕРЕТАЩИ</span>\n        <span className=\"s-span\">или жмякни</span>\n        <input type=\"file\" id=\"file-input\" onClick={this.handleFileClick} onChange={this.handleFileChange} />\n      </div>\n    );\n  }\n}\n\nexport default Dropzone;\n","import React from 'react';\n\nclass Header extends React.Component {\n  constructor (props) {\n    super(props);\n\n    this.state = {\n      gradation: 0,\n    };\n\n    this.handleChangeGradation = this.handleChangeGradation.bind(this)\n    this.handleChangeGradationByRange = this.handleChangeGradationByRange.bind(this)\n  }\n\n  handleChangeGradation (event) {\n    const { value } = event.target;\n    this.setState({\n      gradation: value\n    });\n\n    this.props.onChangeGradation(value);\n  }\n\n  handleChangeGradationByRange (event) {\n    document.querySelectorAll('input[type=radio]').forEach(item => item.checked = false)\n    this.handleChangeGradation(event);\n  }\n\n  render () {\n    return (\n      <div className=\"panel\">\n        <div className=\"polzunok\">\n          <input name=\"gradation\" type=\"range\" max=\"100\" min=\"0\" value={this.state.gradation} onChange={this.handleChangeGradationByRange} />\n        </div>\n        <div className=\"box-gradation\">\n          <div className=\"bg-td\"><label><input type=\"radio\" name=\"gradation\" value=\"0\" onChange={this.handleChangeGradation}/>I</label></div>\n          <div className=\"bg-td\"><label><input type=\"radio\" name=\"gradation\" value=\"20\" onChange={this.handleChangeGradation}/>II</label></div>\n          <div className=\"bg-td\"><label><input type=\"radio\" name=\"gradation\" value=\"40\" onChange={this.handleChangeGradation}/>III</label></div>\n          <div className=\"bg-td\"><label><input type=\"radio\" name=\"gradation\" value=\"60\" onChange={this.handleChangeGradation}/>IV</label></div>\n          <div className=\"bg-td\"><label><input type=\"radio\" name=\"gradation\" value=\"80\" onChange={this.handleChangeGradation}/>V</label></div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction TableHeader() {\n  return (\n    <div className=\"table-cap row\">\n      <div className=\"td number\">№</div>\n      <div className=\"td name\"> Параметр</div>\n      <div className=\"td nominal\">Номинал</div>\n      <div className=\"td rangePlus\">Допуск +</div>\n      <div className=\"td rangeMinus\">Допуск -</div>\n      <div className=\"td measure\">Измеренное</div>\n      <div className=\"td deviance\">Отклонение</div>\n      <div className=\"td status\">Годность</div>\n    </div>\n  );\n}\n\nexport default TableHeader;\n","import React from \"react\";\n\nfunction TableRow(props) {\n  const {\n    number,\n    name,\n    nominal,\n    rangePlus,\n    rangeMinus,\n    measure,\n    deviance,\n    status,\n    percent,\n    visible\n  } = props.row;\n\n  function detectedColor(dev, percent, status) {\n    dev = +dev;\n    let hue = /ГОДЕН/ig.test(status) ?  `140` : `0`;\n    if (dev) {\n      hue = dev >= 0 ? 140-percent*120/100 : 140-percent*120/100;\n    }\n    return `hsla(${hue}, 100% , 40%, .4)`;\n  }\n\n  return (\n    <div className=\"row\" style={{backgroundColor: detectedColor(deviance, percent, status), display: visible ? 'grid' : 'none'}}>\n      <div className=\"td number\" title={`Номер : ${number}`}>{number}</div>\n      <div className=\"td name\" title={`Имя : ${name}`}>{name}</div>\n      <div className=\"td nominal\" title={`Номинал : ${nominal}`}>{nominal}</div>\n      <div className=\"td rangePlus\" title={`Допуск в плюс : ${rangePlus}`}>{rangePlus}</div>\n      <div className=\"td rangeMinus\" title={`Допуск в минус : ${rangeMinus}`}>{rangeMinus}</div>\n      <div className=\"td measure\" title={`Измеренное значение : ${measure}`}>{measure}</div>\n      <div className=\"td deviance\" title={`Отклонение : ${deviance}`}>{deviance}</div>\n      <div className=\"td status\" title={`Годность : ${status}`}>{status}</div>\n    </div>\n  );\n}\n\nexport default TableRow;\n","import React from \"react\";\nimport TableRow from \"./TableRow\";\n\nfunction TableBody(props) {\n  let key = 0;\n  return (\n    <div className=\"table-data\">\n      {props.rows.map(row => <TableRow key={`${++key}_${row.number}`} row={row}/>)}\n    </div>\n  );\n}\n\nexport default TableBody;\n","import React from 'react';\n\nclass Footer extends React.Component {\n  constructor (props) {\n    super(props);\n\n    this.state = {\n      rangeFrom: '',\n      rangeTo: '',\n      number: '',\n    };\n\n    this.handleChangeNumber = this.handleChangeNumber.bind(this);\n    this.handleChangeRange = this.handleChangeRange.bind(this);\n  }\n\n  handleChangeNumber (event) {\n    this.setState({\n      rangeFrom: '',\n      rangeTo: '',\n    });\n\n    const value = event.target.value;\n    this.setState({number: value});\n    this.props.onChangeNumber(+value);\n  }\n\n  handleChangeRange (event) {\n    this.setState({number: ''});\n\n    const {name, value} = event.target;\n    this.setState({\n      [name]: value\n    });\n\n    const oppositeName = this.getOppositeRangeName(name);\n    this.props.onChangeRange({\n      [name]: value,\n      [oppositeName]: this.state[oppositeName]\n    });\n  }\n\n  getOppositeRangeName (name) {\n    return name === 'rangeFrom' ? 'rangeTo' : 'rangeFrom';\n  }\n\n  render() {\n    return (\n      <div className=\"footer\">\n        <div className=\"cap\">Поиск</div>\n        <label>Найти параметр:\n          <input type=\"number\" value={this.state.number} onChange={this.handleChangeNumber}/>\n        </label>\n        <span>\n            <label>Найти диапазон параметров:\n                <input type=\"number\" value={this.state.rangeFrom} name=\"rangeFrom\" onChange={this.handleChangeRange}/>\n            </label>\n                 -\n            <input type=\"number\" value={this.state.rangeTo} name=\"rangeTo\" onChange={this.handleChangeRange}/>\n        </span>\n      </div>\n    );\n  }\n}\n\nexport default Footer;\n","export default class ProtocolReader {\n  constructor(text) {\n    this.splitObjectsParams = [];\n    // перед пушем в массив делать валидацию строки, чтобы в конечный результат не попадали невалидные строки\n    // либо невалидные строки выводить внизу или в скрывающемся слое\n    this.prepare(text).forEach(item => this.splitObjectsParams.push(this.createObjectParameter(item)));\n  }\n\n  get rows () {\n    return this.splitObjectsParams;\n  }\n\n  prepare (text) {\n    return text.split('Параметр')\n      .filter((item , index) => index !== 0)\n      .map(item => item.split('\\n')\n      .filter(item => item !== 0)\n      .filter(item => item.match(/№/) || item.match(/-?\\d\\d?.\\d\\d\\d/))\n      .join(' '));\n  }\n\n  createObjectParameter (arrayItem) {\n    let objectParametr = {};\n    let stringWithNumberPlusStatus = arrayItem.match(/( (-?\\d*\\d.\\d\\d\\d)\\s+(-?\\d*\\d.\\d\\d\\d)\\s+(-?\\d*\\d.\\d\\d\\d)\\s+(-?\\d*\\d.\\d\\d\\d)\\s+(-?\\d*\\d.\\d\\d\\d)\\s+(\\w+|[а-я/*]+)\\s+((НЕ.+ГОДЕН)||(ГОДЕН))*)|(Н*Е*\\s+ГОДЕН)/ui);\n    objectParametr.number = Number(arrayItem.match(/№(\\s+)*\\d+/g)[0].match(/\\d+/g)[0]);\n    objectParametr.name = arrayItem.match(/( ')\\s*.+\\s*(' )/)[0].match(/[^']/g).join('').trim();\n    objectParametr.nominal = stringWithNumberPlusStatus[2]||'';\n    objectParametr.rangePlus = Number(stringWithNumberPlusStatus[3])||'';\n    objectParametr.rangeMinus = Number(stringWithNumberPlusStatus[4])||'';\n    objectParametr.measure = Number(stringWithNumberPlusStatus[5])||'';\n    objectParametr.deviance = stringWithNumberPlusStatus[6]||'';\n    objectParametr.pointMeasurment = stringWithNumberPlusStatus[7]||'';\n    objectParametr.status = stringWithNumberPlusStatus[8]||stringWithNumberPlusStatus[11]||'см.ниже';\n    objectParametr.percent = this.getPercent(objectParametr.deviance, objectParametr.rangePlus, objectParametr.rangeMinus, objectParametr.status);\n    objectParametr.visible = true;\n\n    return objectParametr;\n  }\n\n  // TODO: пока будет тут, но что-то нужно сделать\n  getPercent (dev, plus , minus, status) {\n    if (!dev) {\n      return /не/ig.test(status) ?  100 : 0;\n    }\n    dev = +dev;\n    minus = +minus;\n    plus = +plus;\n    return Math.floor(dev >= 0 ? dev/plus*100 : dev/minus*100);\n  }\n\n  validate () {\n    console.group('Проверяется следующий массив объектов параметров');\n    console.log(this.splitObjectsParams);\n    let error = [];\n    const validationScheme = {\n      number: 'number',\n      name: 'string',\n      nominal: 'string',\n      rangePlus: 'number',\n      rangeMinus: 'number',\n      measure: 'number',\n    };\n\n    this.splitObjectsParams.forEach(item => {\n      for (let fieldName in validationScheme) {\n        if (typeof item[fieldName] !== validationScheme[fieldName]) {\n          error.push(`#${item.number} ${fieldName} ${item[fieldName]}`);\n          break;\n        }\n      }\n    });\n\n    const isSuccess = error.length === 0;\n    console.log(isSuccess ? 'Well done!! Protocol split of parametrs is good!' : `bad and sad (error: ${JSON.stringify(error)})`);\n\n    return isSuccess;\n  }\n}\n","import React from 'react';\nimport Header from \"./Header\";\nimport TableHeader from \"./TableHeader\";\nimport TableBody from \"./TableBody\";\nimport Footer from \"./Footer\";\nimport ProtocolReader from \"../../services/ProtocolReader\";\n\nclass Wrapper extends React.Component {\n  constructor (props) {\n    super(props);\n\n    this.state = {\n      rows: [],\n    };\n\n    this.handleChangeGradation = this.handleChangeGradation.bind(this);\n    this.handleChangeNumber = this.handleChangeNumber.bind(this);\n    this.handleChangeRange = this.handleChangeRange.bind(this);\n  }\n\n  handleChangeGradation (minPercent) {\n    const newRows = this.state.rows.map(row => {\n      row.visible = row.percent >= minPercent;\n      return row;\n    });\n\n    this.setState({\n      rows: newRows\n    });\n  }\n\n  handleChangeNumber (number) {\n    const showAll = number === 0;\n    const newRows = this.state.rows.map(row => {\n      row.visible = showAll || row.number === number;\n      return row;\n    });\n\n    this.setState({\n      rows: newRows\n    });\n  }\n\n  handleChangeRange (range) {\n    const rangeFrom = +range.rangeFrom;\n    const rangeTo = +range.rangeTo;\n\n    function withRangeTo(number) {\n      if (rangeTo > rangeFrom) {\n        return number <= rangeTo;\n      }\n      return true;\n    }\n\n    const newRows = this.state.rows.map(row => {\n      row.visible = row.number >= rangeFrom && withRangeTo(row.number);\n      return row;\n    });\n\n    this.setState({\n      rows: newRows\n    });\n  }\n\n  componentDidMount () {\n    // эту обработку, вероятно, отсюда вытащить выше, а во wrapper передавать готовые строки?\n    const fReader = new FileReader();\n    fReader.readAsText(this.props.file , 'windows-1251');\n    fReader.onload = () => {\n      const pReader = new ProtocolReader(fReader.result);\n      this.setState({rows: pReader.rows});\n    };\n  }\n\n  render () {\n    return (\n      <div className=\"table\">\n        <Header onChangeGradation={this.handleChangeGradation}/>\n        <TableHeader/>\n        <TableBody rows={this.state.rows}/>\n        <Footer onChangeNumber={this.handleChangeNumber} onChangeRange={this.handleChangeRange}/>\n      </div>\n    );\n  }\n}\n\nexport default Wrapper;\n","import React from 'react';\nimport Dropzone from \"./components/Dropzone\";\nimport Panel from \"./components/Panel/Wrapper\";\n\nclass App extends React.Component {\n  constructor (props) {\n    super(props);\n\n    this.state = {\n      file: null,\n    };\n\n    this.handleFileChange = this.handleFileChange.bind(this);\n  }\n\n  handleFileChange (file) {\n    this.setState({\n      file: file,\n    });\n  }\n\n  render () {\n    return (\n      <div className=\"page\">\n        {this.state.file ? <Panel file={this.state.file} /> : <Dropzone onFileChange={this.handleFileChange} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}